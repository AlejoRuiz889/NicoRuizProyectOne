<!doctype html>
<html lang="es-la">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <link rel="icon" href="img/logo.png" type="image/x-icon" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <!-- Google Fonts Roboto -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" />
    
    <link href = "css/bootstrap.min.css" rel = "stylesheet">
    <script src = "js/bootstrap.bundle.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.3.slim.js" integrity="sha256-DKU1CmJ8kBuEwumaLuh9Tl/6ZB6jzGOBV/5YpNE2BWc=" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <title>Ingresar!</title>
  </head>
  <body>

    <header class="site-header inicio">   <!-- Inicio del header-->

      
      <div class="container-fluid bg-dark"> <!-- cotenedor logo -->
                  
        <div class=" mx-auto"> <!-- instrución para centrar -->
            <a  href="index.html">                      
                <img src="img/logo.png"   alt="logo"  width="500" height="auto" class="img-fluid d-block mx-auto" >
            </a>
        </div>   
            
      </div>
      


      <nav class="navbar navbar-expand-lg   bg-dark  "> <!-- inicio del menu -->
        <div class="container-fluid  ">
                      
          <button class="navbar-toggler " type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon btn btn-warning"></span>
          </button> <!--boton menu -->

          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
              
              <li class="nav-item">
                <a class="nav-link active text-light " aria-current="page" href="index.html"><h5>Home </h5></a>
              </li>
              
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle text-light" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Administrador
                </a>
                <ul class="dropdown-menu bg-dark">
                  <li><a class="dropdown-item text-light" href="php/crear_bd.php">Crear Base De Datos</a></li>
                  <li><a class="dropdown-item text-light" href="php/crear_tabla.php">Crear Tabla</a></li>
                  <li><a class="dropdown-item text-light" href="php/pdf.php">Generar PDF</a></li> 
                  <li><a class="dropdown-item text-light" href="php/backup.php">Generar backup</a></li>                     
                </ul>
              </li>

              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle text-light" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                 Inventario 
                </a>
                <ul class="dropdown-menu bg-dark">
                  <li><a class="dropdown-item text-light" href="ingresar.html">Ingresar Producto</a></li>
                  <li><a class="dropdown-item text-light" href="actualizar.html">Actualizar Producto</a></li>
                  <li><a class="dropdown-item text-light" href="eliminar.html">Eliminar Producto</a></li>
                  <li><a class="dropdown-item text-light" href="consultar.html">Consultar Producto</a></li>
                </ul>
              </li>

              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle text-light" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Utilidades
                </a>
                <ul class="dropdown-menu bg-dark">
                  <li><a class="dropdown-item text-light" href="cventas.html">Calculadora Ventas</a></li>
                  <li><a class="dropdown-item text-light" href="cbytes.html">Calculadora Bites</a></li>                    
                </ul>
              </li>



            </ul>
          
        </div>
        </div>
      </nav>
        

    </header>
    <main>
      <p class="text-center fs-2">Formulario para ingresar un producto</p>
      <div class="contanier mt-3">
        <form class="row g-3 justify-content-center text-center" novalidate>

          <div class="col-md-4 mx-sm-3 mb-2">
            <label for="nit">Escriba el codigo del producto (Min:13, Max:13)</label>
            <input type="number" maxlength="13" oninput="if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" class="form-control" placeholder="Recuerde usar el numero 770 al inicio del código(IAC COL)" id="nit" required>
          </div>
        </form>
      </div>
      
        <div class="contanier mt-3">
          <div class="row g-3 justify-content-center text-center">
            <div class="col-md-4 mx-sm-3 mb-2">
                <button type="button" class="btn btn-primary mb-2" id="calcular" onclick="calcular(nit)">Calcular Dígito de Verificación</button>
              <div class="col-md-4 input-group mx-sm-3 mb-2">
                <label for="digitoVerificacion">Dígito de Verificación: </label>
                <input type="text" id="digitoVerificacion" readonly="readonly">
              </div>
        </div>
      </div>
    </div>

        <div class="container mt-3">
          
          <form action="php/insertar.php" method="POST" class="row g-3 justify-content-center needs-validation" novalidate>
            <div class="col-12 position-relative">
              <div class="form-group">
                <label for="val_cod" class="form-label">Vuelva a escribir el código con el digito de Verificación</label>
                <input type="number" maxlength="14" oninput="if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" class="form-control" placeholder="Recuerde usar el numero 770 al inicio del código(IAC COL)" id="val_cod" name="val_cod" required>
                <div class="valid-tooltip">
                  Completado
                </div>
              </div>
            </div>
            <div class="col-12 position-relative">
              <div class="form-group">
                <label for="val_marca" class="form-label">Marca del producto</label>
                <input type="text" class="form-control" id="val_marca" name="val_marca" required>
                <div class="valid-tooltip">
                  Registro de marca completo!
                </div>
              </div>
            </div>
            <div class="col-6 position-relative">
              <div class="form-group">
                <label for="val_precio" class="form-label">Precio del producto</label>
                <div class="input-group has-validation">
                  <span class="input-group-text" id="val_precio_Prepend">$</span>
                  <input type="number" maxlength="20" oninput="if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" class="form-control" id="val_precio" name="val_precio" aria-describedby="val_precio_Prepend" required>
                  <div class="invalid-tooltip">
                    Ingrese un precio para el producto producto.
                  </div>
                </div>
              </div>
            </div>
            <div class="col-6 position-relative">
              <div class="form-group">
                <label for="val_can" class="form-label">Unidades de producto</label>
                <input type ="number" maxlength="5" oninput="if(this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" class="form-control" id = "uni_pro" name = "uni_pro" required>
                <div class="invalid-tooltip">
                  Seleccione un valor.
                </div>
              </div>
            </div>
            <div class="col-4 pb-4">
              <button class="btn btn-outline-primary" type="submit">Registrar producto</button>
            </div>
          </form>
        </div>
    </main>













      

    <footer class="bg-dark text-center text-white fixed-bottom">
      <!-- Grid container -->
      <div class="container">
        <!-- Section: Social media -->
        <section class="mt-0">
          <!-- Facebook -->
          <a class="btn btn-outline-light btn-floating m-1" href="https://es-la.facebook.com/"  target="_blank" role="button"
            ><i class="fab fa-facebook-f "></i
          ></a>
    
          <!-- Twitter -->
          <a class="btn btn-outline-light btn-floating m-1" href="https://twitter.com/?lang=es" target="_blank" role="button"
            ><i class="fab fa-twitter"></i
          ></a>
    
          <!-- Instagram -->
          <a class="btn btn-outline-light btn-floating m-1" href="https://www.instagram.com/"  target="_blank" role="button"
            ><i class="fab fa-instagram"></i
          ></a>
    
          <!-- Github -->
          <a class="btn btn-outline-light btn-floating m-1" href="https://github.com/"  target="_blank" role="button"
            ><i class="fab fa-github"></i
          ></a>
        </section>
        <!-- Section: Social media -->
      </div>
      <!-- Grid container -->
    
      <!-- Copyright -->
      <div class="text-center  pb-3" style="background-color: rgba(0, 0, 0, 0.2);">
        © 2022 Copyright: Daniel Ruíz  
        <a class="text-white" href="https://www.unad.edu.co/" target="_blank">UNAD</a>
      </div>
      <!-- Copyright -->
    </footer>
   
    <script>
      function checkdigit(input) {
        
        // Se limpia el Nit
        input = input.replace ( /\s/g, "" ) ; // Espacios
        input = input.replace ( /,/g,  "" ) ; // Comas
        input = input.replace ( /\./g, "" ) ; // Puntos
        input = input.replace ( /-/g,  "" ) ; // Guiones
        
        // Se valida el nit
        if  ( isNaN ( input ) )  {
          console.log ("El codigo del producto '" + input + "' no es válido(a).") ;
          return "" ;
        };



          let array = input.split('').reverse();

          let total = 0;
          let i = 1;
          array.forEach(number => {
              number = parseInt(number);
              if (i % 2 === 0) {
                  total = total + number;
              }
              else
              {
                  total = total + (number * 3);
              }
              i++;
          });

          return (Math.ceil(total / 10) * 10) - total;
      }
    </script>

    <script>
      function calcular() {

        // Verificar que haya un numero
        let nit = document.getElementById("nit").value;
        let inputDigVerificacion = document.getElementById("digitoVerificacion");
        inputDigVerificacion.value = checkdigit(nit);
        }
    </script>
      
    <script>
      (function(){
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        const forms = document.querySelectorAll('needs-validation')

        // Loop over them and prevent submission
        Array.from(forms).forEach(form => {
          form.addEventListener('submit', event => {
            if (!form.checkValidity()) {
              event.preventDefault()
              event.stopPropagation()
            }

            form.classList.add('was-validated')
          }, false)
        })
      })()
    </script>
      

    <script async src="https://cdn.jsdelivr.net/npm/es-module-shims@1/dist/es-module-shims.min.js" crossorigin="anonymous"></script>
    <script type="importmap">
    </script>
    <script type="module">
      import * as bootstrap from 'bootstrap'

      new bootstrap.Popover(document.getElementById('popoverButton'))
    </script>
    <script>
      // Example starter JavaScript for disabling form submissions if there are invalid fields
      (() => {
      'use strict'

      // Fetch all the forms we want to apply custom Bootstrap validation styles to
      const forms = document.querySelectorAll('.needs-validation')

      // Loop over them and prevent submission
      Array.from(forms).forEach(form => {
          form.addEventListener('submit', event => {
          if (!form.checkValidity()) {
              event.preventDefault()
              event.stopPropagation()
          }

          form.classList.add('was-validated')
          }, false)
      })
      })()
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
  </body>
</html>